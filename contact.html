<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SSDCPL | Contact (Resilient)</title>
  <link href="style.css" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    :root { --brand:#0f6cff; --ink:#1f2937; --muted:#6b7280; --bg:#f8fafc; --ring:#c7d2fe; }
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial,'Noto Sans',sans-serif;color:var(--ink)}
    section.contact-wrap{padding:3rem 1rem;background:var(--bg);}
    .contact-grid{max-width:1100px;margin:0 auto;display:grid;gap:1.25rem;grid-template-columns:1fr;}
    @media(min-width:900px){.contact-grid{grid-template-columns:1.1fr .9fr;}}
    .card{background:#fff;border:1px solid #e5e7eb;border-radius:1rem;box-shadow:0 8px 30px rgba(0,0,0,.04)}
    .card h3{margin:0;padding:1.25rem 1.25rem 0;color:var(--ink);font-size:1.25rem}
    .card .body{padding:1.25rem}
    .contact-form .row{display:grid;gap:.85rem}
    @media(min-width:640px){.contact-form .row.two{grid-template-columns:1fr 1fr;}}
    .field{display:flex;flex-direction:column;gap:.35rem}
    .field label{font-size:.9rem;color:var(--muted)}
    .field input,.field textarea, .field select{
      padding:.9rem 1rem;border:1px solid #e5e7eb;border-radius:.8rem;font:inherit;color:var(--ink);
      outline:none; background:#fff;
    }
    .field input:focus,.field textarea:focus{border-color:var(--brand);box-shadow:0 0 0 4px var(--ring)}
    .actions{display:flex;gap:.75rem;align-items:center;justify-content:flex-start;margin-top:.75rem;flex-wrap:wrap}
    .btn-primary{
      appearance:none;border:none;background:var(--brand);color:#fff;padding:.9rem 1.1rem;border-radius:.8rem;
      font-weight:600;cursor:pointer;transition:transform .02s ease;
    }
    .btn-secondary{
      appearance:none;border:1px solid #e5e7eb;background:#fff;color:var(--ink);padding:.9rem 1.1rem;border-radius:.8rem;
      font-weight:600;cursor:pointer;
    }
    .btn-primary:active{transform:translateY(1px)}
    .helper{font-size:.85rem;color:var(--muted)}
    .notice{display:none;margin-top:.75rem;padding:.75rem 1rem;border-radius:.75rem}
    .success{background:#ecfeff;border:1px solid #a5f3fc;color:#155e75}
    .warning{background:#fff7ed;border:1px solid #fed7aa;color:#9a3412}
    .error{background:#fee2e2;border:1px solid #fecaca;color:#991b1b}
    .notice.show{display:block}
    .info-list{display:grid;gap:.65rem;font-size:.98rem;color:var(--ink)}
    .info-list i{width:1.2rem}
    .required{color:#ef4444}
    .map iframe{width:100%;height:260px;border:0;border-radius:0 0 1rem 1rem}
  </style>
</head>
<body>

<section class="contact-wrap">
  <div class="contact-grid">
    <!-- Form -->
    <div class="card">
      <h3>Send us a message</h3>
      <div class="body">
        <!-- We will submit with JS to allow fallback when form provider is down -->
        <form class="contact-form" id="contactForm" novalidate>
          <div class="row two">
            <div class="field">
              <label for="name">Full Name <span class="required">*</span></label>
              <input id="name" name="name" type="text" placeholder="Your name" required minlength="2" autocomplete="name">
            </div>
            <div class="field">
              <label for="phone">Phone <span class="required">*</span></label>
              <input id="phone" name="phone" type="tel" placeholder="+91 XXXXX XXXXX" required pattern="[0-9+\-()\s]{8,}" autocomplete="tel">
            </div>
          </div>

          <div class="row two">
            <div class="field">
              <label for="email">Email <span class="required">*</span></label>
              <input id="email" name="email" type="email" placeholder="you@example.com" required autocomplete="email">
            </div>
            <div class="field">
              <label for="service">Service</label>
              <select id="service" name="service">
                <option value="">Select a service (optional)</option>
                <option>Design & BIM</option>
                <option>Quantity Surveying</option>
                <option>Highway & Bridge</option>
                <option>Industrial & Structural</option>
                <option>General Inquiry</option>
              </select>
            </div>
          </div>

          <div class="row">
            <div class="field">
              <label for="message">Message <span class="required">*</span></label>
              <textarea id="message" name="message" placeholder="Write your message" rows="5" required minlength="10"></textarea>
            </div>
          </div>

          <div class="actions">
            <button class="btn-primary" type="submit">
              <i class="fa-solid fa-paper-plane"></i> Send Message
            </button>
            <button type="button" id="emailFallback" class="btn-secondary" title="Opens your email app">
              <i class="fa-solid fa-envelope"></i> Send via Email
            </button>
            <a id="waLink" class="btn-secondary" target="_blank" rel="noopener" title="Open WhatsApp with your message">
              <i class="fa-brands fa-whatsapp"></i> Send via WhatsApp
            </a>
            <span class="helper">Primary: FormSubmit → Fallback: Email / WhatsApp</span>
          </div>

          <div id="ok" class="notice success"><i class="fa-solid fa-circle-check"></i> Thanks! Your message has been sent.</div>
          <div id="warn" class="notice warning"><i class="fa-solid fa-triangle-exclamation"></i> The form service is temporarily unavailable. We switched to Email/WhatsApp—please send from there.</div>
          <div id="err" class="notice error"><i class="fa-solid fa-circle-xmark"></i> Please check the required fields and try again.</div>
        </form>
      </div>
    </div>

    <!-- Contact info -->
    <div class="card">
      <h3>Reach us directly</h3>
      <div class="body">
        <div class="info-list">
          <div><i class="fa-solid fa-location-dot"></i> <strong>Address:</strong> Suwarnasatya Design & Construction Pvt. Ltd., Solapur, India</div>
          <div><i class="fa-solid fa-phone"></i> <strong>Phone:</strong> <a href="tel:+917020641228">+91 7020641228</a></div>
          <div><i class="fa-solid fa-envelope"></i> <strong>Email:</strong> <a href="mailto:suwarnasatya26@gmail.com">suwarnasatya26@gmail.com</a></div>
          <div><i class="fa-brands fa-whatsapp"></i> <strong>WhatsApp:</strong> <a href="https://wa.me/917020641228" target="_blank">Chat on WhatsApp</a></div>
        </div>
      </div>
      <div class="map">
        <iframe
  loading="lazy"
  allowfullscreen
  referrerpolicy="no-referrer-when-downgrade"
  src="https://www.google.com/maps?q=Suwarnasatya%20Design%20and%20construction%20Private%20Limited,%20196,%20Chakote%20Nagar,%20Hyderabad%20Rd,%20I%20Group%20Vidi%20Gharkul,%20Saruwadi%20Nagar,%20Rangraj%20Nagar,%20Solapur,%20Maharashtra%20413005&output=embed"
  width="100%"
  height="300"
  style="border:0;border-radius:0 0 1rem 1rem;">
</iframe>
      </div>
    </div>
  </div>
</section>

<script>
(function(){
  const form = document.getElementById('contactForm');
  const ok = document.getElementById('ok');
  const warn = document.getElementById('warn');
  const err = document.getElementById('err');
  const emailBtn = document.getElementById('emailFallback');
  const waLink = document.getElementById('waLink');

  function show(el){ [ok,warn,err].forEach(x=>x.classList.remove('show')); el.classList.add('show'); }
  function data(){ return {
    name: document.getElementById('name').value.trim(),
    phone: document.getElementById('phone').value.trim(),
    email: document.getElementById('email').value.trim(),
    service: document.getElementById('service').value.trim(),
    message: document.getElementById('message').value.trim()
  };}

  function buildMailto(d){
    const subject = encodeURIComponent('New inquiry from SSDCPL website');
    const body = encodeURIComponent(
      `Name: ${d.name}\nPhone: ${d.phone}\nEmail: ${d.email}\nService: ${d.service||'-'}\n\nMessage:\n${d.message}`
    );
    return `mailto:suwarnasatya26@gmail.com?subject=${subject}&body=${body}`;
  }

  function buildWhatsApp(d){
    const text = encodeURIComponent(
      `New website inquiry:%0aName: ${d.name}%0aPhone: ${d.phone}%0aEmail: ${d.email}%0aService: ${d.service||'-'}%0a%0a${d.message}`
    );
    return `https://wa.me/917020641228?text=${text}`;
  }

  // keep WA link up to date with typed content
  function syncLinks(){
    const d = data();
    waLink.href = buildWhatsApp(d);
  }
  ['input','change'].forEach(evt=>form.addEventListener(evt, syncLinks));
  syncLinks();

  emailBtn.addEventListener('click', function(){
    const d = data();
    location.href = buildMailto(d);
  });

  form.addEventListener('submit', async function(e){
    e.preventDefault();
    if(!form.checkValidity()){ show(err); return; }

    const d = data();
    // Attempt FormSubmit (AJAX). If it fails (e.g., 522), fall back.
    try{
      const res = await fetch('https://formsubmit.co/ajax/suwarnasatya26@gmail.com', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' },
        body: JSON.stringify({
          name: d.name,
          phone: d.phone,
          email: d.email,
          service: d.service || '—',
          message: d.message,
          _subject: 'New inquiry from SSDCPL website',
          _template: 'table'
        }),
      });
      if(res.ok){
        form.reset();
        syncLinks();
        show(ok);
        return;
      }
      // Non-OK -> fall back
      show(warn);
      window.open(buildMailto(d), '_self');
    }catch(error){
      // Network error/522/etc -> fall back
      show(warn);
      window.open(buildMailto(d), '_self');
    }
  });
})();
</script>

</body>
</html>
